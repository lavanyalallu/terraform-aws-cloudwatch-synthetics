
resource "aws_appsync_resolver" "get_order_resolver" {
  api_id      = aws_appsync_graphql_api.my_api.id
  type        = "Query"
  field       = "getOrder"
  data_source = aws_appsync_datasource.orders_table.name

  request_template = <<EOF
{
  "version": "2017-02-28",
  "operation": "GetItem",
  "key": {
    "orderId": $util.dynamodb.toDynamoDBJson($ctx.args.orderId)
  }
}
EOF

  response_template = <<EOF
$util.toJson($ctx.result)
EOF
}
